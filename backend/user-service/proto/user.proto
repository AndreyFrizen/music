syntax = "proto3";

package user;

import "google/api/annotations.proto";

option go_package = "/user";

service UserService {
  rpc RegisterUser (RegisterUserRequest) returns (RegisterUserResponse){
      option (google.api.http) = {
          post: "/users"
          body: "*"
      };
  };
  rpc GetUser (GetUserRequest) returns (GetUserResponse){
      option (google.api.http) = {
          get: "/users/{id}"
      };
  };
  rpc UpdateUser (UpdateUserRequest) returns (UpdateUserResponse){
      option (google.api.http) = {
          patch: "/users/{id}"
          body: "*"
      };
  };
  rpc DeleteUser (DeleteUserRequest) returns (DeleteUserResponse){
      option (google.api.http) = {
          delete: "/users/{id}"
      };
  };
  rpc LoginUser (LoginUserRequest) returns (LoginUserResponse){
      option (google.api.http) = {
          post: "/users/login"
          body: "*"
      };
  };
  rpc LogoutUser (LogoutUserRequest) returns (LogoutUserResponse){
      option (google.api.http) = {
          post: "/users/logout"
          body: "*"
      };
  };
}

message User {
    int64 id = 1;
    string email = 2;
    string username = 3;
    string password = 4;
}

message RegisterUserRequest {
    User user = 1;
}

message RegisterUserResponse {
    int64 id = 1;
}

message GetUserRequest {
    int64 id = 1;
}

message GetUserResponse {
    User user = 1;
}

message UpdateUserRequest {
    User user = 1;
}

message UpdateUserResponse {
    int64 id = 1;
}

message DeleteUserRequest {
    int64 id = 1;
}

message DeleteUserResponse {
    int64 id = 1;
}

message LoginUserRequest {
    User user = 1;
}

message LoginUserResponse {
    string token = 1;
}

message LogoutUserRequest {
    int64 id = 1;
}

message LogoutUserResponse {
    int64 id = 1;
}
